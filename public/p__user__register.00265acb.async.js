(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[14],{a3w7:function(e,r,s){"use strict";s.r(r);s("14J3");var t=s("BMrR"),a=(s("+L6B"),s("2/Rp")),i=(s("jCWc"),s("kPKH")),c=(s("Q9mQ"),s("diRs")),n=(s("MXD1"),s("CFYs")),d=s("k1fw"),l=(s("miYZ"),s("tsqr")),o=s("tJVT"),u=(s("5NDa"),s("5rEg")),j=(s("OaEy"),s("2fM7")),g=(s("y8nQ"),s("Vl3Y")),b=s("q1tI"),p=s("9kvl"),h=s("uYtH"),O=s("sYde"),m=s.n(O),x=s("nKUr"),f=g["a"].Item,w=j["a"].Option,v=u["a"].Group,_={ok:Object(x["jsx"])("div",{className:m.a.success,children:Object(x["jsx"])(p["a"],{id:"userandregister.strength.strong"})}),pass:Object(x["jsx"])("div",{className:m.a.warning,children:Object(x["jsx"])(p["a"],{id:"userandregister.strength.medium"})}),poor:Object(x["jsx"])("div",{className:m.a.error,children:Object(x["jsx"])(p["a"],{id:"userandregister.strength.short"})})},y={ok:"success",pass:"normal",poor:"exception"},N=function(e){var r,s=e.submitting,O=e.dispatch,N=e.userAndregister,k=Object(b["useState"])(0),q=Object(o["a"])(k,2),F=q[0],z=q[1],C=Object(b["useState"])(!1),V=Object(o["a"])(C,2),I=V[0],J=V[1],Y=Object(b["useState"])("86"),A=Object(o["a"])(Y,2),M=A[0],S=A[1],B=Object(b["useState"])(!1),E=Object(o["a"])(B,2),P=E[0],Q=E[1],R=!1,D=g["a"].useForm(),T=Object(o["a"])(D,1),H=T[0];Object(b["useEffect"])((function(){if(N){var e=H.getFieldValue("mail");"ok"===N.status&&(l["default"].success("\u6ce8\u518c\u6210\u529f\uff01"),p["e"].push({pathname:"/user/register-result",state:{account:e}}))}}),[N]),Object(b["useEffect"])((function(){return function(){clearInterval(r)}}),[]);var K=function(){var e=59;z(e),r=window.setInterval((function(){e-=1,z(e),0===e&&clearInterval(r)}),1e3)},U=function(){var e=H.getFieldValue("password");return e&&e.length>9?"ok":e&&e.length>5?"pass":"poor"},W=function(e){O({type:"userAndregister/submit",payload:Object(d["a"])(Object(d["a"])({},e),{},{prefix:M})})},X=function(e,r){var s=Promise;return r&&r!==H.getFieldValue("password")?s.reject(Object(p["d"])({id:"userandregister.password.twice"})):s.resolve()},G=function(e,r){var s=Promise;return r?(I||J(!!r),Q(!P),r.length<6?s.reject(""):(r&&R&&H.validateFields(["confirm"]),s.resolve())):(J(!!r),s.reject(Object(p["d"])({id:"userandregister.password.required"})))},L=function(e){S(e)},Z=function(){var e=H.getFieldValue("password"),r=U();return e&&e.length?Object(x["jsx"])("div",{className:m.a["progress-".concat(r)],children:Object(x["jsx"])(n["a"],{status:y[r],className:m.a.progress,strokeWidth:6,percent:10*e.length>100?100:10*e.length,showInfo:!1})}):null};return Object(x["jsxs"])("div",{className:m.a.main,children:[Object(x["jsx"])("h3",{children:Object(x["jsx"])(p["a"],{id:"userandregister.register.register"})}),Object(x["jsxs"])(g["a"],{form:H,name:"UserRegister",onFinish:W,children:[Object(x["jsx"])(f,{name:"mail",rules:[{required:!0,message:Object(p["d"])({id:"userandregister.email.required"})},{type:"email",message:Object(p["d"])({id:"userandregister.email.wrong-format"})}],children:Object(x["jsx"])(u["a"],{size:"large",placeholder:Object(p["d"])({id:"userandregister.email.placeholder"})})}),Object(x["jsx"])(c["a"],{getPopupContainer:function(e){return e&&e.parentNode?e.parentNode:e},content:I&&Object(x["jsxs"])("div",{style:{padding:"4px 0"},children:[_[U()],Z(),Object(x["jsx"])("div",{style:{marginTop:10},children:Object(x["jsx"])(p["a"],{id:"userandregister.strength.msg"})})]}),overlayStyle:{width:240},placement:"right",visible:I,children:Object(x["jsx"])(f,{name:"password",className:H.getFieldValue("password")&&H.getFieldValue("password").length>0&&m.a.password,rules:[{validator:G}],children:Object(x["jsx"])(u["a"],{size:"large",type:"password",placeholder:Object(p["d"])({id:"userandregister.password.placeholder"})})})}),Object(x["jsx"])(f,{name:"confirm",rules:[{required:!0,message:Object(p["d"])({id:"userandregister.confirm-password.required"})},{validator:X}],children:Object(x["jsx"])(u["a"],{size:"large",type:"password",placeholder:Object(p["d"])({id:"userandregister.confirm-password.placeholder"})})}),Object(x["jsxs"])(v,{compact:!0,children:[Object(x["jsxs"])(j["a"],{size:"large",value:M,onChange:L,style:{width:"20%"},children:[Object(x["jsx"])(w,{value:"86",children:"+86"}),Object(x["jsx"])(w,{value:"87",children:"+87"})]}),Object(x["jsx"])(f,{style:{width:"80%"},name:"mobile",rules:[{required:!0,message:Object(p["d"])({id:"userandregister.phone-number.required"})},{pattern:/^\d{11}$/,message:Object(p["d"])({id:"userandregister.phone-number.wrong-format"})}],children:Object(x["jsx"])(u["a"],{size:"large",placeholder:Object(p["d"])({id:"userandregister.phone-number.placeholder"})})})]}),Object(x["jsxs"])(t["a"],{gutter:8,children:[Object(x["jsx"])(i["a"],{span:16,children:Object(x["jsx"])(f,{name:"captcha",rules:[{required:!0,message:Object(p["d"])({id:"userandregister.verification-code.required"})}],children:Object(x["jsx"])(u["a"],{size:"large",placeholder:Object(p["d"])({id:"userandregister.verification-code.placeholder"})})})}),Object(x["jsx"])(i["a"],{span:8,children:Object(x["jsx"])(a["a"],{size:"large",disabled:!!F,className:m.a.getCaptcha,onClick:K,children:F?"".concat(F," s"):Object(p["d"])({id:"userandregister.register.get-verification-code"})})})]}),Object(x["jsxs"])(f,{children:[Object(x["jsx"])(a["a"],{size:"large",loading:s,className:m.a.submit,type:"primary",htmlType:"submit",children:Object(x["jsx"])(p["a"],{id:"userandregister.register.register"})}),Object(x["jsx"])(h["a"],{className:m.a.login,to:"/user/login",children:Object(x["jsx"])(p["a"],{id:"userandregister.register.sign-in"})})]})]})]})};r["default"]=Object(p["c"])((function(e){var r=e.userAndregister,s=e.loading;return{userAndregister:r,submitting:s.effects["userAndregister/submit"]}}))(N)},sYde:function(e,r,s){e.exports={main:"main___2kx2N",password:"password___2JDrd",getCaptcha:"getCaptcha___1oboe",submit:"submit___34wM2",login:"login___1qBuj",success:"success___3hl98",warning:"warning___2i2r2",error:"error___3JfQo","progress-pass":"progress-pass___BM1Xu",progress:"progress___2s68u"}}}]);